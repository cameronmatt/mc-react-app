{"ast":null,"code":"import _slicedToArray from\"/Users/admin/development/code/mc-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import CartStyle from'./css/Cart.module.css';import CartPageStyle from'./css/CartPage.module.css';import Logo from\"./Logo\";import SearchBar from\"./SearchBar\";import Nav from\"./Nav\";import CartButton from\"./CartButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];console.log(\"state\",products);//fetches data, converts to json and resets the state\nvar fetchProducts=function fetchProducts(){fetch('http://localhost:3000/cart/').then(function(response){return response.json();}).then(function(data){setProducts(data);//console.log('cart-fetch',data)\n}).catch(function(firstGetError){return console.log(firstGetError);});};// Waits for components to mount then calls fetch\nuseEffect(fetchProducts,[]);function deleteProducts(prod){console.log('outside',prod);if(window.confirm(\"Are you sure you want to remove this item?\")){console.log('inside',prod);fetch('http://localhost:3000/cart/'+prod,{method:'DELETE'// headers: {\n//   'Accept': 'application/json', \n//   'Content-Type': 'application/json'\n// },\n//body: JSON.stringify(null)\n}).then(function(res){return res;});}//fetchProducts()\n}if(products.length>0){return/*#__PURE__*/_jsxs(\"div\",{className:CartPageStyle.catcontainer,children:[/*#__PURE__*/_jsx(\"p\",{className:CartPageStyle.logo,children:/*#__PURE__*/_jsx(Logo,{})}),/*#__PURE__*/_jsx(\"p\",{className:CartPageStyle.search,children:/*#__PURE__*/_jsx(SearchBar,{})}),/*#__PURE__*/_jsx(\"p\",{className:CartPageStyle.cart,children:/*#__PURE__*/_jsx(CartButton,{})}),/*#__PURE__*/_jsx(\"p\",{className:CartPageStyle.nav,children:/*#__PURE__*/_jsx(Nav,{})}),/*#__PURE__*/_jsx(\"div\",{className:CartStyle.container,children:/*#__PURE__*/_jsx(\"ul\",{className:CartStyle.list,children:products.map(function(prod){return/*#__PURE__*/_jsxs(\"li\",{className:CartStyle.item,children:[/*#__PURE__*/_jsx(\"p\",{className:CartStyle.title,children:prod.title}),/*#__PURE__*/_jsxs(\"p\",{className:CartStyle.price,children:[\"$\",prod.price]}),/*#__PURE__*/_jsx(\"p\",{className:CartStyle.removeContainer,children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){e.target.parentElement.parentElement.remove();deleteProducts(prod.id);},className:CartStyle.remove,children:\"X\"})})]});})})})]},98798798790);}else{return/*#__PURE__*/_jsxs(\"div\",{className:CartPageStyle.catcontainer,children:[/*#__PURE__*/_jsx(\"p\",{className:CartPageStyle.logo,children:/*#__PURE__*/_jsx(Logo,{})}),/*#__PURE__*/_jsx(\"p\",{className:CartPageStyle.search,children:/*#__PURE__*/_jsx(SearchBar,{})}),/*#__PURE__*/_jsx(\"p\",{className:CartPageStyle.cart,children:/*#__PURE__*/_jsx(CartButton,{})}),/*#__PURE__*/_jsx(\"p\",{className:CartPageStyle.nav,children:/*#__PURE__*/_jsx(Nav,{})}),/*#__PURE__*/_jsx(\"div\",{className:CartStyle.container,children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:CartStyle.noItems,children:\"Your shopping cart is empty\"})})})]},98798798790);}}export default Cart;","map":{"version":3,"sources":["/Users/admin/development/code/mc-react-app/src/components/Cart.js"],"names":["React","useState","useEffect","CartStyle","CartPageStyle","Logo","SearchBar","Nav","CartButton","Cart","products","setProducts","console","log","fetchProducts","fetch","then","response","json","data","catch","firstGetError","deleteProducts","prod","window","confirm","method","res","length","catcontainer","logo","search","cart","nav","container","list","map","item","title","price","removeContainer","e","target","parentElement","remove","id","noItems"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport CartStyle from './css/Cart.module.css'\nimport CartPageStyle from './css/CartPage.module.css'\nimport Logo from \"./Logo\"\nimport SearchBar from \"./SearchBar\"\nimport Nav from \"./Nav\"\nimport CartButton from \"./CartButton\"\n\nfunction Cart() {\n\n    const [products, setProducts] = useState([])\n    console.log(\"state\", products)\n\n    //fetches data, converts to json and resets the state\n    const fetchProducts = () => {\n        fetch('http://localhost:3000/cart/')\n        .then(response => response.json())\n        .then(data => {\n            setProducts(data)\n            //console.log('cart-fetch',data)\n            \n          })\n        .catch(firstGetError => console.log(firstGetError))\n      }\n  // Waits for components to mount then calls fetch\n      useEffect(fetchProducts, [])\n\n    function deleteProducts(prod) {\n        console.log('outside', prod)\n        if(window.confirm(\"Are you sure you want to remove this item?\")){\n            console.log('inside', prod)\n            fetch( 'http://localhost:3000/cart/'+(prod), {\n                method: 'DELETE',\n                // headers: {\n                //   'Accept': 'application/json', \n                //   'Content-Type': 'application/json'\n                // },\n                //body: JSON.stringify(null)\n            })\n            .then(res => res)\n        }\n      //fetchProducts()\n    }\n      \n    if (products.length > 0) {\n    return(\n        <div className={CartPageStyle.catcontainer} key={98798798790}>\n            <p className={CartPageStyle.logo}><Logo /></p>\n            <p className={CartPageStyle.search}><SearchBar /></p>\n            <p className={CartPageStyle.cart}><CartButton /></p>\n            <p className={CartPageStyle.nav}><Nav /></p>\n            <div className={CartStyle.container}>\n                <ul className={CartStyle.list}>\n                    {products.map(prod => (\n                        <li className={CartStyle.item}>           \n                            <p className={CartStyle.title}>{prod.title}</p>\n                            <p className={CartStyle.price}>${prod.price}</p>\n                            <p className={CartStyle.removeContainer}>\n                                <button onClick={(e) => {\n                                    e.target.parentElement.parentElement.remove()\n                                    deleteProducts(prod.id)\n                                    }} \n                                    className={CartStyle.remove}>X</button>\n                            </p>\n                        </li>\n                    ))}\n                </ul>    \n            </div>\n        </div>\n    )\n    } else {\n        return (\n            <div className={CartPageStyle.catcontainer} key={98798798790}>\n            <p className={CartPageStyle.logo}><Logo /></p>\n            <p className={CartPageStyle.search}><SearchBar /></p>\n            <p className={CartPageStyle.cart}><CartButton /></p>\n            <p className={CartPageStyle.nav}><Nav /></p>\n            <div className={CartStyle.container}>\n            <div>\n                <p className={CartStyle.noItems} >Your shopping cart is empty</p>\n            </div>   \n            </div>\n        </div>\n        \n      )\n    }\n \n}\nexport default Cart"]},"metadata":{},"sourceType":"module"}